<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link rel="stylesheet" th:href="@{/css/font.css}" />
    <link rel="stylesheet" th:href="@{/css/fragment/header.css}">
    <link rel="stylesheet" th:href="@{/css/fragment/footer.css}">

    <link rel="stylesheet" th:href="@{/css/user/mypage/mypage_list.css}" />
    <link rel="stylesheet" th:href="@{/css/user/mypage/mypage-review-list.css}" />


    <script defer th:src="@{/js/fragment/header.js}"></script>
    <script defer th:src="@{/js/common.js}"></script>
    <script defer th:type="module" th:src="@{/js/user/mypage/mypage-review-list.js}"></script>

    <title>Document</title>
</head>
<body>
<!-- ÌôàÌéòÏù¥ÏßÄ Ï†ÑÏ≤¥ ÏÇ¨Ïù¥Ï¶à -->
<div class="container">

    <th:block th:insert="~{fragment/header::header}">
    </th:block>

    <main class="main-wrap">
        <div class="mypage_list">
            <div class="mypage_list_title">
                <p>Î∞õÏùÄ ÌõÑÍ∏∞</p>
                <div class="mypage_list_line"></div></div>

            <table>
                <colgroup>
                    <col style="width:5%" />
                    <col style="width:10%" />
                    <col />
                    <col style="width:20%" />
                    <col style="width:15%" />
                </colgroup>

                <tr>
                    <th>ÏàúÎ≤à</th>
                    <th>ÎßåÏ°±ÎèÑ</th>
                    <th>Ï†úÎ™©</th>
                    <th>Î≥ÑÏ†ê</th>
                    <th>ÏûëÏÑ±Ïùº</th>
                </tr>
                <!-- Ï™ΩÏßÄ Ïª®ÌÖêÏ∏† -->
                <tr class="review-list" th:each="review:${pageDTO.list}" th:object="${review}" th:data-review-id="*{reviewId}">
                    <td th:text="*{rnum}">ÏÉòÌîå ÏûëÏÑ±ÎÇ†Ïßú</td>
                    <td>
                        <th:block th:switch="*{reviewAiAssessment}">
                            <span class="review-emoji" th:case="BAD">üôÑ</span>
                            <span class="review-emoji" th:case="NORMAL">üôÇ</span>
                            <span class="review-emoji" th:case="GOOD">üòç</span>
                        </th:block>
                    </td>



                    <td th:text="*{reviewTitle}">
                    </td>

                    <td>
                        <div class="review__star">
                            <div class="star_rating">
                                <span class="star"
                                      th:each="i : ${#numbers.sequence(1,5)}"
                                      th:classappend="${i <= review.reviewStarRating ? 'on' : ''}"></span>
                            </div>
                        </div>
                    </td>

                    <td th:text="*{reviewCreatedAt}"></td>
                </tr>
            </table>


            <section class="pagination-section">
                <div class="pagination" >
                    <a th:if="${pageDTO.hasPreviousGroup()}"
                       th:href="@{/mypage/list/zip(page=${pageDTO.startPage - 1})}"
                       class="page-btn prev" aria-label="Go to previous group">‚Äπ</a>

                    <a class="page-btn"
                       th:each="i : ${#numbers.sequence(pageDTO.startPage, pageDTO.endPage)}"
                       th:href="@{/mypage/list/review(page=${i})}"
                       th:classappend="${i == pageDTO.page ? ' active' : ''}"
                       th:text="${i}"></a>

                    <a th:if="${pageDTO.hasNextGroup()}"
                       th:href="@{/mypage/list/review(page=${pageDTO.endPage + 1})}"
                       class="page-btn next" aria-label="Go to next group">‚Ä∫</a>
                </div>
            </section>


        </div>

        <!-- Î™®Îã¨ Ï∞Ω -->
        <div class="review-modal-box">
            <div class="review-modal-form">
                <div class="review-modal__top">
                    <p>Î∞õÏùÄ <span>Î¶¨Î∑∞</span></p>
                </div>
                <div class="review-modal__top">
                    <p>Î¶¨Î∑∞ Ï†úÎ™© / ÏûëÏÑ±Ïûê</p>
                    <div class="review-modal__tw-box">
                        <div class="review-modal__title"></div>
                        <div class="review-modal__writer"></div>
                    </div>
                </div>
                <div class="review-modal__top">
                    <p>Î¶¨Î∑∞ ÎÇ¥Ïö© <span class="review-modal-emoji"></span></p>
                    <div class="review-content_box review-modal__content"></div>
                </div>
                <div class="review__button">
                    <div class="review_btn">
                        <input type="reset" class="review-modal-close-btn" value="Îã´Í∏∞">
                    </div>
                </div>
            </div>
        </div>
    </main>
    <th:block th:insert="~{fragment/footer::footer}">

    </th:block>
</div>

</body>
</html>
